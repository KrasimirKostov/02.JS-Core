<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="http://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
        </script>
    <title>AJAX Demo</title>
</head>

<body>

    <h1>Hello Github!</h1>
    <input type="text" id="username" />
    <button onclick="loadRepos()">Load Repos</button>
    <ul id="repos"></ul>

    <script>

        function loadRepos(e) {
            let username = $('#username').val();
            let url = `http://api.github.com/users/${username}/repos`;

            $.ajax({
                method: 'GET',//GET e defaultnata stojnost - moje da ne se slaga
                url: url,
                success: onLOadReposSuccess,
                error: (err) => console.log(err)

            });
            function onLOadReposSuccess(data) {
                let $repos = $('#repos');

                data.forEach(r => {
                    let $li = $('<li>');
                    let $a = $('<a target="_blank" href="' + r.html_url + '">');

                    $a.text(r.name);
                    $li.append($a)
                    $repos.append($li);
                });
            }


        }
    </script>

</body>

</html>